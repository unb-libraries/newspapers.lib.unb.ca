// UNB Lib theme + bootstrap assets.
// @import '../../../../../vendor/unb-libraries/unb_lib_theme/assets/stylesheets/unblib';

// Subtheme local variables.
@import 'local-variables';

/* Element style tweaks */
figcaption {
  margin-bottom: 1em;
}
figcaption .glyphicon {
  margin-right: .25em;
  top: 3px;
}
a:not(.btn):focus,
a:not(.btn):hover,
a:not(.btn):active {
  border-bottom-style: none;
  text-decoration: underline;
}
.pagination a:focus,
.pagination a:hover,
.pagination a:active {
  border-bottom-style: solid;
  text-decoration: none;
}
ins {
  color: $text-muted;
  text-decoration: none;
}

/* Class/ID style tweaks */
.help-block {
  font-size: .9em;
}
.title-details figure {
  float: right;
  margin-left: 1em;
}
.tabledrag-handle:hover {
  border: none;
}
.table {
  margin-bottom: initial;
}
.panel-body {
  border-top: none;
  padding: 15px;
}
.panel-default > .panel-heading {
  background: #dedede;
  color: #333;
}
.panel-default > .panel-heading a {
  color: #333;
}

.panel-heading a {
  font-weight: bold;
}

.description {
  color: $text-muted;
}
dl .inline-list {
  display: inline;
  padding-left: 0;
}
.inline-list li {
  display: inline;
}

// Separate inline lists like: one, two, three and four.
.inline-list li:nth-child(n+2)::before {
  content: ", ";
}
.inline-list li:last-child::before {
  content: '';
}
.inline-list li:nth-last-child(2)::after {
  content: " and ";
}

// Improve autocomplete.
.ui-autocomplete li:first-child:before {
  border-bottom: 1px solid $text-muted;
  color: $text-muted;
  content: 'Suggested matches';
  display: block;
  font-weight: bold;
  letter-spacing: 1px;
  margin-bottom: .5em;
  padding: .5em 0;
}
.ui-autocomplete {
  background: #f5faff;
}
.ui-autocomplete li,
.ui-autocomplete li a {
  display: block;
}

.main-container {
  margin-top: 1em;
  padding-left: 2px;
  padding-right: 2px;
}

#edit-reset:before {
  font-family: "Glyphicons Halflings";
  content: "\e031";
  color: #777;
  font-size: smaller;
  margin-right: 0.25em;
  vertical-align: text-bottom;
}

#edit-delete:before {
  font-family: "Glyphicons Halflings";
  content:"\e020";
  color: #777;
  display: inline-block;
  font-size: smaller;
  margin-right: 0.25em;
  vertical-align: text-bottom;
}
#edit-cancel:before {
  font-family: "Glyphicons Halflings";
  content:"\e014";
  color: #777;
  display: inline-block;
  font-size: smaller;
  margin-right: 0.25em;
  vertical-align: text-bottom;
}

div[class*="ref-up"] label:before,
div[class*="ref-dn"] label:before {
  font-family: "Glyphicons Halflings";
  content: "\e027";
  color: #5cb85c;
  margin-right: 2px;
  vertical-align: middle;
}
div[class*="ref-up"] label:before {
  content: "\e027";
}
div[class*="ref-dn"] label:before {
  content:"\e026";
}
div[class*="ref-up"] .chosen-container,
div[class*="ref-up"] .description,
div[class*="ref-dn"] .chosen-container,
div[class*="ref-dn"] .description {
  margin-left: 19px;
}

li.search-field:before {
  font-family: "Glyphicons Halflings";
  content: "\e003";
  color: $text-muted;
  display: inline-block;
  padding: .5em 0;
}

.publication h2 {
  color: #aa0404;
  font-size: 20px;
  font-weight: bold;
  margin-top: 0;
}
.publication figure {
  margin-bottom: 1em;
}
.publication .panel-title a {
  display: block;
}
.publication .panel-body {
  padding-bottom: 0;
}
.publication .panel-body dl:last-child {
  margin-bottom: 0;
}
.panel-title > a:before {
  float: right !important;
  font-family: "Glyphicons Halflings";
  content: "\e113";
  padding-right: 5px;
}
.panel-title > a.collapsed:before {
  float: right !important;
  content: "\e114";
}
.panel-title > a:hover,
.panel-title > a:active,
.panel-title > a:focus  {
  text-decoration:none;
}

/* Chosen overrides */
select[multiple="multiple"] + .form-control {
  border: none;
  padding: 0;
  width: 98%!important;
}
.chosen-container-multi .chosen-choices li.search-choice {
  margin-top: 6px;
}
.chosen-container-multi .chosen-choices li.search-field input[type="text"]:before {
  font-family: "Glyphicons Halflings";
  content: "\e003";
}

/* Facets overrides */
.block-facets h3 {
  background: $heading-bg;
  font-size: 18px;
  padding: 6px;
}
.block-facets h3 {
  margin-top: .25em;
}
.facet-slider {
  margin: 3em 1em 0 1.15em;
}
.block-facet--range-slider {
  padding-bottom: 1.35em;
}
.ui-slider-pip-first .ui-slider-label:hover,
.ui-slider-pip-last .ui-slider-label:hover {
  text-decoration: underline;
  z-index: 1;
}
.facets-widget-checkbox ul {
  padding-left: .5em;
}
.facet-item {
  list-style: none;
}
.facet-item label {
  font-weight: normal;
}
.facet-item__count {
  color: $text-muted
}
input[type="checkbox"].facets-checkbox {
  margin-right: .25em;
}
ul.js-facets-checkbox-links + a::before {
  font-family: "Glyphicons Halflings";
  content: "\e114";
  display: inline-block;
  font-size: small;
  margin: 0 4px 0 1px;
  vertical-align: text-bottom;
}
ul.js-facets-checkbox-links + a.open::before {
  content: "\e113";
}
.facet-item input {
  float:left;
}
.facet-item label {
  margin-left: 18px;
}
.facet-item input,
.facet-item label {
  display: block;
}
.facet-item:hover,
.facet-item:hover input,
.facet-item:hover label,
label.checkbox-toggle:hover {
  cursor: pointer;
}
.facet-item input:focus,
.facet-item input:hover,
.facet-item:hover .facet-item__value {
  color: $link-color-hover;
  text-decoration: underline;
}
.facets-widget-checkbox {
  margin-bottom: 1em;
}
.facets-soft-limit-link {
  display: block;
  margin-left: .5em;
}
/* Slider facet override */
.item-list__range_slider {
  display: contents;
}
.item-list__range_slider li {
  list-style-type: none;
}

// Elements.
dd {
  margin-bottom: .75em;
}
// Clear separation of multi-line multiple value list items.
dd li {
  line-height: 1.2em;
  margin-bottom: .3em;
}

p {
  margin-bottom: 1em;
}
.digital-serial-page-meta dt,
.digital-serial-page-meta dd {
  border-bottom: 1px solid #ddd;
}
.digital-serial-page-meta dt,
.digital-serial-page-meta dd {
  float: left;
  margin: 0;
  padding: .25em .5%;
  vertical-align: top;
}
.digital-serial-page-meta dt {
  width: 40%;
}
.digital-serial-page-meta dd {
  width: 60%;
}

/* Owl Carousel overrides */
.owl-theme .owl-controls .owl-page.active span {
  background: $link-color-hover;
}
.owl-theme .owl-controls .owl-buttons div {
  background: $unb-lib-panel-heading;
}
.owl-theme .owl-controls .owl-buttons div:first-child::before {
  content: '« ';
}
.owl-theme .owl-controls .owl-buttons div:last-child::after {
  content: ' »';
}
.owl-theme figure img {
  display: inline-block;
  max-width: 100%;
  height: auto;
  padding: 4px;
  line-height: 1.42857143;
  background-color: #fff;
  border: 1px solid #ddd;
  border-radius: 4px;
  -webkit-transition: all .2s ease-in-out;
  -o-transition: all .2s ease-in-out;
  transition: all .2s ease-in-out;
}

/* High resolution Digital Page pager */
.pager a.btn {
  margin: auto .5em;
}

/* Fix overrides.min.css / unb-lib.css conflict */
a.disabled {
  color: $text-muted;
}
.breadcrumb li:first-of-type a {
  font-size: 0;
}
.breadcrumb li:first-of-type a::after {
  top: -16px;
}
.user-logged-in .breadcrumb {
  display: block;
}
.tab-content {
  border-top: 1px solid #333;
}
.select-wrapper select,
input:not([type=button]):not([type=radio]):not([type=checkbox]):not([type=submit]):not([type=date]) {
  line-height: normal;
}
.panel-default > .panel-heading {
  color: $unb-lib-panel-heading;
}

.panel-heading a,
.panel-heading a:focus,
.panel-heading a:hover,
.panel-title:hover:focus {
  background: none;
  color: $unb-lib-panel-heading;
  outline: none;
  padding-right: 0;
}

.form-item {
  transition: all linear 0.4s;
}

a.btn-add {
  color: #333;
  background-color: #fff;
  border-color: #ccc;
  margin-bottom: 1.5em;
}
a.btn-add:hover,
a.btn-add:focus,
a.btn-add:active {
  color: #333;
  background-color: #e6e6e6;
  border: 1px solid #adadad;
  text-decoration: none;
}
a.btn-add::before {
  font-family: "Glyphicons Halflings";
  content: "\e081";
  color: #5cb85c;
  margin-right: .33em;
  vertical-align: top;
}

.messages--info {
  color: #325e1c;
  border-color: #c9e1bd #c9e1bd #c9e1bd transparent;
  box-shadow: -8px 0 0 #333;
}

.table > tbody > tr > td.field-multiple-drag {
  vertical-align: middle;
  width: 40px;
}
.tabledrag-handle {
  float: none;
}

// Broad title history.
.title-history .file-icon {
  display: none;
}
.title-history .file,
.no-borders .file-link {
  font-size: inherit;
  width: auto;
}
.title-history .file-size {
  color: $text-muted;
  padding-left: .5em;
  text-align: left;
}
.title-history .file-size::before {
  content: "(";
}
.title-history .file-size::after {
  content: ")";
}
.history-list {
  margin: 1em auto;
}
.history-list span {
  margin-left: .25em;
}
.history-list .current-title {
  list-style-type: none;
}
.history-list .current-title::before {
  color: $checkmark;
  content:"\e013";
  float: left;
  font-family: 'Glyphicons Halflings';
  font-size: x-small;
  margin-left: -1.75em;
  margin-top: .25em;
}

/* Helper classes */
.no-borders,
.title-history .file>span {
  border: none;
}
.image-placeholder {
  max-height: 230px; /* same as Sample publication image style */
}
.no-gutters{
  margin-left: 0;
  margin-right: 0;
}
.no-wrap {
  white-space: nowrap;
}

/* Chosen + Bootstrap */
.select-wrapper .chosen-container {
  padding: 4px 2em 4px 12px;
  width: 100% !important;
}
.chosen-container .chosen-drop {
  border-color: #ccc;
  left: 0;
}
.chosen-container-active.chosen-with-drop .chosen-single {
  background: #fff;
  border: none;
}
.chosen-container-single .chosen-single {
  background: #fff;
  border: none;
  box-shadow: none;
  padding: 0;
}
.chosen-container-single .chosen-single div b {
  display: none;
}
.chosen-container-single .chosen-single span {
  margin-right: 5em;
}

/* Bootstrap overrides */
.page-header {
  border-bottom: none;
}
.text-muted {
  color: $text-muted;
}
/* jQuery UI Bridge overrides */
.modal.in .modal-dialog {
  top: 25%;
}
.modal.in .modal-dialog .modal-content {
  padding: .2em;
}
.modal-dialog .modal-header {
  border: 1px solid #ddd;
  background: #e9e9e9;
}
.modal-dialog h4 {
  font-weight: bold;
}
.modal-dialog .close {
  background: #f6f6f6;
  border: 1px solid #454545;
  color: #454545;
  font-size: 24px;
  border-radius: 3px;
  padding: 1px 6px;
}

/* Search results */
.search-results .holding {
  color: $text-muted;
  display: inline;
  font-size: smaller;
}
.search-results .views-field-field-sort-title span:first-of-type::before {
  content: '(';
}
.search-results .views-field-field-sort-title span:last-of-type::after {
  content: ')';
}
.search-results table a {
  display: block;
}
.search-results .glyphicon {
  font-size: smaller;
}
.search-results .views-row {
  margin-bottom: 1.5em;
}
.table > thead:first-child > tr:first-child > th {
  border-top: 2px solid #ddd;
}
.search-results thead > tr > th {
  padding: 0;
}
th[class*="-sort"] a,
th[class*="-date"] a,
th[class*="-locality"] a,
th[class*="-retention"] a,
th[class*="-frequency"] a,
th#view-nothing-table-column,
.search-results thead > tr > th.views-field-issue-title {
  padding: .5em;
  white-space: nowrap;
}
th[class*="-sort"] a:focus,
th[class*="-date"] a:focus,
th[class*="-sort"] a:hover,
th[class*="-date"] a:hover,
th[class*="-locality"] a:focus,
th[class*="-locality"] a:hover,
th[class*="-retention"] a:focus,
th[class*="-retention"] a:hover,
th[class*="-frequency"] a:focus,
th[class*="-frequency"] a:hover {
  background: #f9f9f9;
}
th[class*="-sort"] a::before,
th[class*="-date"] a::before,
th[class*="-locality"] a::before,
th[class*="-retention"] a:before,
th[class*="-frequency"] a:before {
  content: "\e150";
  display: inline-block;
  font-family: 'Glyphicons Halflings';
  font-size: x-small;
  margin-right: 0.3em;
  white-space: nowrap;
}
/* Empty search no-results text hack */
.search-results .results- {
  display: none;
}
.search-results h2 {
  font-size: 1em;
}
.search-results h3 {
  font-size: 1.15em;
  margin-bottom: 0;
}
.search-results .excerpt {
  color: #545454;
}
.search-results strong {
  color: $unb-lib-panel-heading;
}
/* Override Search API Autocomplete */
.search-api-autocomplete-search .ui-menu-item:hover {
  background: inherit;
}
.ui-autocomplete a:focus,
.ui-autocomplete a:hover {
  text-decoration: none;
}

/* Digital Title List exposed Views filters */
.search-results .form-inline > div:first-child {
  margin-top: .5em;
}
.search-results label {
  display: block;
}

/* Digital Issue List exposed Views filters */
.toggle-wrapper input {
  vertical-align: top;
}
.toggle-wrapper label:hover {
  color: $link-color-hover;
}
.toggle-wrapper input:hover {
  cursor: pointer;
}
.filters .form-group {
  max-width: 24.9%;
}
.filters label {
  display: block;
}
.filters button.form-submit {
  margin-top: 1.6em;
}

/* High Resolution Image back link */
a.back-results::before,
a.back-link::before {
  font-family: "Glyphicons Halflings";
  content:"\e251";
  color: $text-muted;
  display: inline-block;
  font-size: smaller;
  margin-right: 0.25em;
  vertical-align: text-bottom;
}

/* Holdings */
.holding-type dt {
  border-bottom: 2px solid #e5e5e5;
  font-size: 18px;
  font-weight: normal;
  margin-bottom: .5em;
}
.holding-item dt {
  border-bottom: none;
  font-size: initial;
  font-weight: bold;
  margin-bottom: 0;
}
.holding-type dd {
  margin-bottom: 1.5em;
}
.holding-item dd {
  margin-bottom: .75em;
}
.holding-type dd dl:not(:first-child):before {
  content: "";
  background: #eee;
  position: absolute;
  left: 1.6em;
  right: 1.6em;
  height: 1px;
}
.holding-type dd dl:not(:first-child) dt {
  padding-top: 1em;
}

/* Front page */
.message {
  margin-bottom: 2.5em;
}

@media (max-width: 767px) {
  .no-gutters > aside {
    padding-left: 0;
  }
  .filters button.form-submit {
    margin-top: 0;
  }
  .filters .form-group {
    max-width: 35%;
  }
  .responsive-enabled>tbody>tr>td {
    overflow: paged-y;
    overflow: -webkit-paged-y;
  }
}
@media (max-width: 600px) {
  .image-placeholder {
    max-height: 120px;
  }
  .title-details img {
    max-width: 120px;
    max-height: 160px;
  }
}
@media (min-width: 768px)
and (max-width: 991px){
  .image-placeholder {
    max-width: 160px;
  }
  .title-details img {
    max-width: 120px;
    max-height: 160px;
  }
}
@media (min-width: 768px) {
  /* Fix Bootstrap responsive table button dropdown menus */
  .table-responsive {
    overflow-x: visible;
  }
}
